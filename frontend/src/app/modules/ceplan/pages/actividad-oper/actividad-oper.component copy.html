<app-breadcrumb [rutas]="rutas" [titulo]="'Registro de actividades'"></app-breadcrumb>
<div class="row">
    <div class="col-xl-12">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-xl-auto col-md-auto col-sm-auto"></div>
                </div>
                <div class="row pt-2">
                    <div class="col-xl-12">
                        <app-loading [mostrar]="loading">
                            <div class="card">
                                <div class="card-header">
                                  ACTIVIDAD OPERATIVA
                                </div>
                                <div class="card-body">
                                    <div class="row mb-2" [formGroup]="informacion">
                                        <div class="col-xl-5" >
                                            <select name="" class="form-select form-select-sm" id=""  formControlName="actividad_operativa"  (change)="cambioActividad()">
                                                <option >Seleccionar </option>
                                                @for(actividad of actividades; track actividad.actividad){
                                                <option [value]="actividad.actividad" >{{actividad.actividad}} </option>
                                              }  
                                        </select>
                                        </div>
                                    
                                    </div>
                                    <table class=" table-borderless">
                                        <tbody>
                                            @for(detalle of detalles; track detalle.index){
                                                <tr>
                                                    <td><b>N째 Registro POI</b></td>
                                                    <td>{{detalle.ACTIVIDAD_PRESUPUESTAL_ID}}</td>
                                                </tr>
                                                <tr>
                                                    <td><b>Objetivo Estrategico</b></td> 
                                                    <td>{{detalle.OBJETIVO_ESTRATEGICO}}</td>
                                                </tr>
                                                <tr>
                                                    <td><b>Acci처n Estrategica</b></td> 
                                                    <td>{{detalle.ACCION_ESTRATEGICA}}</td>
                                                </tr>
                                            }
                                           
                                        </tbody>
                                      
                                    </table>
                                    <!-- comienzo seccion 2 -->
                                    <div class="row">
                                        <div class="col-xl-7">
                                            <table class=" table-borderless">
                                                <tbody>
                                                    @for(detalle of detalles; track detalle.index){
                                                        <tr>
                                                            <td><b>Actividad presupuestal</b></td>
                                                            <td>{{detalle.ACTIVIDAD_PRESUPUESTAL}}</td>
                                                        <tr>
                                                            <td><b>Actividad Operativa</b></td> 
                                                            <td>{{detalle.ACTIVIDAD_OPERATIVA}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td><b>Unidad Medida</b></td> 
                                                            <td>{{detalle.UNIDAD_MEDIDA}}</td>
                                                        </tr>
                                                    }
                                                                                                   
                                                </tbody>
                                              
                                            </table>
                                        </div>
                              
                                    </div>
                                    <!-- fin seccion 2 -->
                                    <!-- comienzo seccion de actividades -->
                                   
                                    <div class="row mt-4 w-100 d-flex justify-content-around">
                                        <div class="col-xl-12 modul pb-4">
                                            <p>Seguimiento POI</p>
                                            <table class="seg">
                                                <thead>
                                                    <tr>
                                                       <td style="width:3% ;">Periodo</td>
                                                       <td style="width:5% ;">Programado</td>
                                                       <td style="width:7% ;">Reprog N째1</td>
                                                       <td style="width:7% ;">Reprog N째2</td>
                                                       <td style="width:5% ;">Ejecutado</td>
                                                       <td style="width:48% ;">Motivo</td>
                                                       <td style="width:10% ;">Progreso</td>
                                                       <td style="width:8% ;">Estado</td>
                                                       <td style="width:19% ;">Acciones</td>
                                                    </tr>
                                                </thead>
                                                <tbody class="" [formGroup]="valores" >
                                                    @for(){
                                                        <tr>
                                                            <td>01</td>
                                                            <td><input type="text" class="form-control form-control-sm"  formControlName="P01" ></td>
                                                            <td><input type="text" class="form-control form-control-sm"  formControlName="RF01"></td>
                                                            <td><input type="text" class="form-control form-control-sm"  formControlName="RFF01"></td>
                                                            <td><input type="text" class="form-control form-control-sm"  formControlName="FS01"></td>
                                                            <td><input type="text" class="form-control form-control-sm"  formControlName="MT01"></td>
                                                            <td>
                                                                <div class="progress "style="height: 27px;">
                                                                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" [style]="changeProgress('P01','FS01')" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"><b>{{porcentaje('P01','FS01')}}</b></div>
                                                                </div>
                                                            </td>
                                                            <td><div class="progreso" [style]="changeColor('P01','FS01')" >{{changeStade('P01','FS01')}}</div></td>
                                                           <td>
                                                                 <button class="btn btn-primary btn-sm w-100" (click)="guardar('FS01','MT01','ID1','1')" [disabled]="cerrarRegistro()">Registrar</button>
                                                           
                                                            </td>
                                                         
                                                        </tr>
                                                    }
                                                                                           
                                                </tbody>
                                            </table>
                                        </div>
                                       
                                 
                                    </div>
                                   
                                </div>
                              </div>
                        </app-loading>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>